<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anti-Fascist Network Locations</title>

  <!-- Leaflet CSS + JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }

    header {
      background: #fff;
      padding: 1rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 1000;
      position: relative;
    }

    header h1 {
      color: #dc2626;
      font-size: 1.5rem;
      margin: 0;
    }

    header p {
      color: #555;
      font-size: 0.9rem;
      margin: 0.3rem 0 0;
    }

    #map {
      flex-grow: 1;
      width: 100%;
      height: calc(100vh - 100px); /* header space */
    }

    .leaflet-popup-content-wrapper {
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <header>
    <h1>Anti-Fascist Network Locations</h1>
    <p>A visual network across the UK and Ireland.</p>
  </header>

  <div id="map"></div>

  <script>
    const locations = [
      { name: "Aberystwyth Anti-Fascists", area: "Aberystwyth, Wales", lat: 52.4155, lon: -4.0829 },
      { name: "ACA Manchester", area: "Manchester, England", lat: 53.4809, lon: -2.2374 },
      { name: "AFA Ireland", area: "Dublin, Ireland", lat: 53.3501, lon: -6.2662 },
      { name: "Aylesbury Anti-Fascists", area: "Aylesbury, England", lat: 51.8167, lon: -0.8146 },
      { name: "Ayrshire Against Fascism", area: "Ayrshire, Scotland", lat: 55.5, lon: -4.5 },
      { name: "Belfast Anti-Fascist Alliance", area: "Belfast, Northern Ireland", lat: 54.6079, lon: -5.9264 },
      { name: "Cambridge Anti-Fascists", area: "Cambridge, England", lat: 52.2053, lon: 0.1192 },
      { name: "London Anti-Fascist Assembly", area: "London, England", lat: 51.5074, lon: -0.1278 },
      { name: "Swansea Antifa", area: "Swansea, Wales", lat: 51.6214, lon: -3.9436 },
      { name: "York Anti-Fascists", area: "York, England", lat: 53.959, lon: -1.0815 }
    ];

    window.addEventListener('load', () => {
      const map = L.map('map');
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
      }).addTo(map);

      const bounds = [];
      const redIcon = L.icon({
        iconUrl: 'data:image/svg+xml;charset=utf-8,<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="16" cy="16" r="14" fill="%23dc2626"/></svg>',
        iconSize: [25, 25],
        iconAnchor: [12, 12],
        popupAnchor: [0, -10]
      });

      locations.forEach(loc => {
        const latlng = [loc.lat, loc.lon];
        bounds.push(latlng);
        L.marker(latlng, { icon: redIcon })
          .addTo(map)
          .bindPopup(`<b>${loc.name}</b><br>${loc.area}`);
      });

      if (bounds.length) {
        map.fitBounds(bounds, { padding: [20, 20] });
      }

      setTimeout(() => map.invalidateSize(), 300);
    });
  </script>
</body>
</html>
